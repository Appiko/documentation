<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Appiko: Hardware testing application for Sense Rev4 board</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
<!--  <td id="projectalign" style="padding-left: 0.5em;">
	  <div id="projectname"><Appiko--> 
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__testing__appln.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Hardware testing application for Sense Rev4 board<div class="ingroups"><a class="el" href="group__group__appln.html">Applications</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>The main file for hardware testing application which is used to test functioning of board.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__testing__header"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__testing__header.html">Header for hardware testing application</a></td></tr>
<tr class="memdesc:group__testing__header"><td class="mdescLeft">&#160;</td><td class="mdescRight">This file contains all the test funtion declarations. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga840291bc02cba5474a4cb46a9b9566fe"><td class="memItemLeft" align="right" valign="top"><a id="ga840291bc02cba5474a4cb46a9b9566fe"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__testing__appln.html#ga840291bc02cba5474a4cb46a9b9566fe">main</a> (void)</td></tr>
<tr class="memdesc:ga840291bc02cba5474a4cb46a9b9566fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is Entry point for this application and this function will call for every test funtion. <br /></td></tr>
<tr class="separator:ga840291bc02cba5474a4cb46a9b9566fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h1>Project to test individual hardware module implemented on board</h1>
<p>This board can be seen as many hardware modules implemented together. This appliacton will test the each of those modules separately so that manufacturer can check the board before passing it further on manufaturing cycle.</p>
<p>These tests are designed to verify working of certain circuit part by comparing certain critical value with the pre-calculated value.</p>
<p>Before going through these tests please go through hardware discription for this board. Otherwise it's difficult to understand these tests.</p>
<p>These tests are as follow :</p>
<ul>
<li>Power Supply Test</li>
<li>DC/DC Converter Test</li>
<li>LED Test</li>
<li>Crystal Test</li>
<li>RC Filter Test</li>
<li>Low Pass Filter Test</li>
<li>POT Test</li>
</ul>
<p>To do these tests user needs to follow the 'Board level Testing reference Manual' Maths and logic behind every test is explained below.</p>
<h2>Power Supply Test :</h2>
<p>This is the simplest test. If controller is able to boot and program is loaded properly, It'll give positive status as return.</p>
<p>If return value of this function is 1 then its successful.</p>
<h2>DC/DC Converter Test :</h2>
<p>Internal DC/DC converter is used for regualating the DC supply given at battery socket. If this device fails SensePi will keep rebooting. If return value of this function is 1 then this test is successful</p>
<h2>LED Test :</h2>
<p>This test is to see if LED is present and properly working or not. This is the only test which is operator dependent. Here operator has to look at LED blinking.</p>
<p>If first two test are successful then this test will always give positive result.</p>
<h2>Crystal Test :</h2>
<p>This test is to check if 32768 Hz Crystal is present and working or not. This crystal is required to provide clock signal to all peripheral devices.</p>
<p>In this test we first try to enable external crystal for low frequency clock. If and after it gets enabled, it's frequency will be checked by comparing it to high speed crystal clock present in SoC itself. For that profiler_timer module is used which uses high speed crystal clock. It'll check for 1sec and compare it for 1% error.</p>
<p>If return value is 1 then crystal is present and error is less than 1%.</p>
<h2>RC Test :</h2>
<p>This test is to check the RC circuit present before 'amp_offset' pin which is supposed to get DC component of output from 2 stage amplifire. RC circuit is used to filter the remaining AC component present in 'offset signal'. The desired value of this offset value is (Vdd/2).</p>
<p>In this test average offset value is calculated over 1.2s and then it is compared with calculated offset value, which is (Vdd/2), for 5% error. If avg value is in the 5% error margin then test was successful.</p>
<h2>Low Pass Filter Test :</h2>
<p>This test is to check the filter circuit present before 'amp_signal' pin which is treated as PIR signal. Low Pass Filter(LPF) has cut-off frequency of 1Hz.</p>
<p>To check this test we need to provide signal with specifications such as :</p>
<blockquote class="doxtable">
<p>V(p-p) : 1mv<br />
 V(offset) : 0.9v<br />
 Frequency : 10Hz<br />
 </p>
</blockquote>
<p>In this test controller will check if it receives 10Hz signal at 'amp_signal' pin or not.</p>
<p>This freqiency will be calculated by zero crossing detection. In this method it is checked for how many times does signal crosses a reference voltage around which signal is oscillating in certain time duration, generally 1s, and then divide that number by 2. For our application we are using ADC samples and comparing with offset signal with 0.2% error to detect crossing.</p>
<p>If this calculated frequency is equal to 10Hz, test is successful.</p>
<h2>POT Test :</h2>
<p>This test is to check if POT is present and working. This POT value controls the amplification of second stage amplifire.</p>
<p>In this test, amp_signal's Vrms is calculated for two different POT values, 0 and 45, and compared if Vrms for POT value 45 is at least greater than double of Vrms for POT value 0.</p>
<p>If POT is working fine then this differece will be greater. Otherwise not. </p>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
